<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoodData Calculator</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .lucide { width: 1em; height: 1em; stroke: currentColor; stroke-width: 2; fill: none; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;
        const { createRoot } = ReactDOM;

        // Icons
        const Globe = () => (
            <svg className="lucide" viewBox="0 0 24 24">
                <circle cx="12" cy="12" r="10"/>
                <path d="m12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/>
            </svg>
        );

        // Additional icon
        const Users = () => (
            <svg className="lucide" viewBox="0 0 24 24">
                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                <circle cx="9" cy="7" r="4"/>
            </svg>
        );

        function GoodDataCalculator() {
            // State management
            const [formData, setFormData] = useState({
                prospectName: '',
                clientWebsite: '',
                annualRevenue: '',
                numberOfEmployees: '',
                objectives: '',
                usageScope: '',
                monetization: '',
                growthOpportunity: '',
                license: '',
                totalWorkspaces: '',
                biWorkspaces: '',
                aiWorkspaces: '',
                llmProvider: '',
                package: '',
                professionalServices: '',
                additionalEnvironments: false,
                samlOidc: false,
                dataCenterRegions: false,
                usageAnalytics: false,
                auditLog: false,
                hipaaCompliance: false
            });

            const [pricing, setPricing] = useState({
                platformFee: 36000,
                professionalLicense: 24000,
                enterpriseLicense: 36000,
                biWorkspacePrice: 25,
                aiWorkspacePrice: 10,
                advisory: 10000,
                analytics: 37500,
                endToEnd: 100000,
                additionalEnvironments: 12000,
                samlOidc: 3000,
                dataCenterRegions: 5000,
                usageAnalytics: 2500,
                auditLog: 3000,
                hipaaCompliance: 8000,
                llmPackages: {
                    'Customer': { 'Small': 100, 'Medium': 430, 'Large': 750 },
                    'GoodData': { 'Small': 200, 'Medium': 750, 'Large': 900 }
                }
            });

            const handleInputChange = (field, value) => {
                setFormData(prev => {
                    const newData = { ...prev, [field]: value };
                    if (field === 'totalWorkspaces') {
                        newData.biWorkspaces = value;
                    }
                    return newData;
                });
            };

            const calculateTotal = () => {
                const bi = parseInt(formData.biWorkspaces) || 0;
                const ai = parseInt(formData.aiWorkspaces) || 0;
                
                let baseAmount = 0;
                if (formData.license === 'Professional') {
                    baseAmount = pricing.professionalLicense;
                } else if (formData.license === 'Enterprise') {
                    baseAmount = pricing.enterpriseLicense;
                } else {
                    baseAmount = pricing.platformFee;
                }
                
                let total = baseAmount + (bi * pricing.biWorkspacePrice * 12) + (ai * pricing.aiWorkspacePrice * 12);
                
                if (formData.llmProvider && formData.package) {
                    const monthlyCost = pricing.llmPackages[formData.llmProvider]?.[formData.package] || 0;
                    total += monthlyCost * 12;
                }
                
                if (formData.professionalServices === 'Advisory') total += pricing.advisory;
                if (formData.professionalServices === 'Analytics') total += pricing.analytics;
                if (formData.professionalServices === 'End-to-end') total += pricing.endToEnd;
                if (formData.additionalEnvironments) total += pricing.additionalEnvironments;
                if (formData.samlOidc) total += pricing.samlOidc;
                if (formData.dataCenterRegions) total += pricing.dataCenterRegions;
                if (formData.usageAnalytics) total += pricing.usageAnalytics;
                if (formData.auditLog) total += pricing.auditLog;
                if (formData.hipaaCompliance) total += pricing.hipaaCompliance;
                
                return total;
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-purple-50 via-white to-violet-50 p-4">
                    <div className="max-w-6xl mx-auto">
                        
                        {/* Header */}
                        <div className="rounded-xl shadow-xl text-white p-6 mb-6 relative overflow-hidden" style={{
                            background: `linear-gradient(135deg, #1C0D3F 0%, #A93DF6 50%, #ED26B7 100%)`
                        }}>
                            <div className="absolute inset-0 opacity-20">
                                <div className="absolute inset-0" style={{
                                    backgroundImage: `repeating-linear-gradient(
                                        45deg,
                                        transparent,
                                        transparent 10px,
                                        rgba(255, 255, 255, 0.1) 10px,
                                        rgba(255, 255, 255, 0.1) 12px
                                    )`
                                }}></div>
                            </div>
                            <div className="relative z-10 flex items-center gap-4">
                                <div className="bg-white/20 p-3 rounded-xl">
                                    <Globe className="w-8 h-8" />
                                </div>
                                <div className="flex-1">
                                    <h1 className="text-3xl font-bold mb-2">
                                        <span style={{color: 'yellow'}}>GoodData</span> Pricing Calculator
                                    </h1>
                                    <div className="text-sm bg-white/20 rounded-lg p-3">
                                        Professional pricing calculator with editable pricing and detailed breakdown!
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div className="bg-white rounded-2xl shadow-xl border border-gray-100 p-8 mb-8">
                            
                            {/* Basic Info */}
                            <div className="grid md:grid-cols-2 gap-4 mb-6">
                                <input 
                                    type="text"
                                    placeholder="Prospect/Customer Name *"
                                    className="w-full p-3 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                    value={formData.prospectName}
                                    onChange={(e) => handleInputChange('prospectName', e.target.value)}
                                />
                                <input 
                                    type="url"
                                    placeholder="Client Website"
                                    className="w-full p-3 text-lg border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                    value={formData.clientWebsite}
                                    onChange={(e) => handleInputChange('clientWebsite', e.target.value)}
                                />
                            </div>

                            {/* Customer Profile Section */}
                            <div className="bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6">
                                <div className="flex items-center gap-3 mb-6">
                                    <Building className="w-6 h-6 text-purple-900" />
                                    <h2 className="text-xl font-semibold text-gray-800">Customer Profile</h2>
                                </div>
                                
                                <div className="space-y-6">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">Annual Revenue (USD)</label>
                                        <select 
                                            className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 bg-white"
                                            value={formData.annualRevenue}
                                            onChange={(e) => handleInputChange('annualRevenue', e.target.value)}
                                        >
                                            <option value="">Select Range</option>
                                            <option value="< 10M">&lt; $10M</option>
                                            <option value="10M - 50M">$10M - $50M</option>
                                            <option value="50M - 100M">$50M - $100M</option>
                                            <option value="100M - 500M">$100M - $500M</option>
                                            <option value="500M+">$500M+</option>
                                        </select>
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">Number of Employees</label>
                                        <select 
                                            className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 bg-white"
                                            value={formData.numberOfEmployees}
                                            onChange={(e) => handleInputChange('numberOfEmployees', e.target.value)}
                                        >
                                            <option value="">Select Range</option>
                                            <option value="<100">&lt;100</option>
                                            <option value="101-1,000">101-1,000</option>
                                            <option value="1,001-2,500">1,001-2,500</option>
                                            <option value="2,500+">2,500+</option>
                                        </select>
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">What are they looking to achieve with GoodData?</label>
                                        <textarea 
                                            className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 resize-none"
                                            rows="4"
                                            placeholder="Describe their goals and objectives..."
                                            value={formData.objectives}
                                            onChange={(e) => handleInputChange('objectives', e.target.value)}
                                        />
                                    </div>
                                </div>
                            </div>

                            {/* Usage Plan Assessment Section */}
                            <div className="bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6">
                                <h2 className="text-xl font-semibold text-gray-800 mb-6">Usage Plan Assessment</h2>
                                
                                <div className="space-y-6">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-3">Usage by department or globally?</label>
                                        <div className="space-y-2">
                                            <label className="flex items-center">
                                                <input 
                                                    type="radio"
                                                    name="usageScope"
                                                    value="Department"
                                                    checked={formData.usageScope === 'Department'}
                                                    onChange={(e) => handleInputChange('usageScope', e.target.value)}
                                                    className="w-4 h-4 text-purple-600"
                                                />
                                                <span className="ml-2 text-gray-700">Department</span>
                                            </label>
                                            <label className="flex items-center">
                                                <input 
                                                    type="radio"
                                                    name="usageScope"
                                                    value="Globally"
                                                    checked={formData.usageScope === 'Globally'}
                                                    onChange={(e) => handleInputChange('usageScope', e.target.value)}
                                                    className="w-4 h-4 text-purple-600"
                                                />
                                                <span className="ml-2 text-gray-700">Globally</span>
                                            </label>
                                        </div>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-3">If they will monetize the product, how?</label>
                                        <div className="space-y-2">
                                            <label className="flex items-center">
                                                <input 
                                                    type="radio"
                                                    name="monetization"
                                                    value="YES"
                                                    checked={formData.monetization === 'YES'}
                                                    onChange={(e) => handleInputChange('monetization', e.target.value)}
                                                    className="w-4 h-4 text-purple-600"
                                                />
                                                <span className="ml-2 text-gray-700">YES</span>
                                            </label>
                                            <label className="flex items-center">
                                                <input 
                                                    type="radio"
                                                    name="monetization"
                                                    value="NO"
                                                    checked={formData.monetization === 'NO'}
                                                    onChange={(e) => handleInputChange('monetization', e.target.value)}
                                                    className="w-4 h-4 text-purple-600"
                                                />
                                                <span className="ml-2 text-gray-700">NO</span>
                                            </label>
                                        </div>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-3">Is there a significant growth opportunity here?</label>
                                        <div className="space-y-2">
                                            <label className="flex items-center">
                                                <input 
                                                    type="radio"
                                                    name="growthOpportunity"
                                                    value="YES"
                                                    checked={formData.growthOpportunity === 'YES'}
                                                    onChange={(e) => handleInputChange('growthOpportunity', e.target.value)}
                                                    className="w-4 h-4 text-purple-600"
                                                />
                                                <span className="ml-2 text-gray-700">YES</span>
                                            </label>
                                            <label className="flex items-center">
                                                <input 
                                                    type="radio"
                                                    name="growthOpportunity"
                                                    value="NO"
                                                    checked={formData.growthOpportunity === 'NO'}
                                                    onChange={(e) => handleInputChange('growthOpportunity', e.target.value)}
                                                    className="w-4 h-4 text-purple-600"
                                                />
                                                <span className="ml-2 text-gray-700">NO</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {/* Workspace Configuration Section */}
                            <div className="bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6">
                                <div className="flex items-center gap-3 mb-6">
                                    <Database className="w-6 h-6 text-pink-500" />
                                    <h2 className="text-xl font-semibold text-gray-800">Workspace Configuration</h2>
                                </div>
                                
                                <div className="space-y-6">
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">License Type</label>
                                        <select 
                                            className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 bg-white"
                                            value={formData.license}
                                            onChange={(e) => handleInputChange('license', e.target.value)}
                                        >
                                            <option value="">Select License</option>
                                            <option value="Professional">Professional - $24,000/year</option>
                                            <option value="Enterprise">Enterprise - $36,000/year</option>
                                        </select>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">Total Workspaces</label>
                                        <input 
                                            type="number"
                                            className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                            value={formData.totalWorkspaces}
                                            onChange={(e) => handleInputChange('totalWorkspaces', e.target.value)}
                                            placeholder="Enter total number of workspaces"
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">BI Workspaces</label>
                                        <input 
                                            type="number"
                                            className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                            value={formData.biWorkspaces}
                                            onChange={(e) => handleInputChange('biWorkspaces', e.target.value)}
                                            placeholder="Number of BI workspaces"
                                        />
                                    </div>
                                    
                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-2">AI Workspaces</label>
                                        <input 
                                            type="number"
                                            className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"
                                            value={formData.aiWorkspaces}
                                            onChange={(e) => handleInputChange('aiWorkspaces', e.target.value)}
                                            placeholder="Number of AI workspaces"
                                        />
                                    </div>
                                    
                                    {/* Only show LLM Provider when AI workspaces are configured */}
                                    {parseInt(formData.aiWorkspaces) > 0 && (
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">LLM Provider</label>
                                            <select 
                                                className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 bg-white"
                                                value={formData.llmProvider}
                                                onChange={(e) => handleInputChange('llmProvider', e.target.value)}
                                            >
                                                <option value="">Select Provider</option>
                                                <option value="Customer">Customer</option>
                                                <option value="GoodData">GoodData</option>
                                            </select>
                                        </div>
                                    )}
                                    
                                    {/* Only show Package when both AI workspaces and LLM Provider are configured */}
                                    {parseInt(formData.aiWorkspaces) > 0 && formData.llmProvider && (
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">Package</label>
                                            <select 
                                                className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 bg-white"
                                                value={formData.package}
                                                onChange={(e) => handleInputChange('package', e.target.value)}
                                            >
                                                <option value="">Select Package</option>
                                                {formData.llmProvider === 'Customer' && (
                                                    <>
                                                        <option value="Small">Small - ${pricing.llmPackages.Customer.Small}/month</option>
                                                        <option value="Medium">Medium - ${pricing.llmPackages.Customer.Medium}/month</option>
                                                        <option value="Large">Large - ${pricing.llmPackages.Customer.Large}/month</option>
                                                    </>
                                                )}
                                                {formData.llmProvider === 'GoodData' && (
                                                    <>
                                                        <option value="Small">Small - ${pricing.llmPackages.GoodData.Small}/month</option>
                                                        <option value="Medium">Medium - ${pricing.llmPackages.GoodData.Medium}/month</option>
                                                        <option value="Large">Large - ${pricing.llmPackages.GoodData.Large}/month</option>
                                                    </>
                                                )}
                                            </select>
                                        </div>
                                    )}
                                </div>
                            </div>

                            {/* Professional Services Section */}
                            <div className="bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6">
                                <div className="flex items-center gap-3 mb-6">
                                    <Users className="w-6 h-6 text-blue-600" />
                                    <h2 className="text-xl font-semibold text-gray-800">Professional Services</h2>
                                </div>
                                
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">Professional Services</label>
                                    <select 
                                        className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 bg-white"
                                        value={formData.professionalServices}
                                        onChange={(e) => handleInputChange('professionalServices', e.target.value)}
                                    >
                                        <option value="">Select Service</option>
                                        <option value="Advisory">Advisory Package - 80 hours - ${pricing.advisory.toLocaleString()}</option>
                                        <option value="Analytics">Analytics Package - 300 hours - ${pricing.analytics.toLocaleString()}</option>
                                        <option value="End-to-end">End-to-end Package - 800 hours - ${pricing.endToEnd.toLocaleString()}</option>
                                    </select>
                                </div>
                            </div>

                            {/* Add-ons Section */}
                            <div className="bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6">
                                <h2 className="text-xl font-semibold text-gray-800 mb-6">Add-ons</h2>
                                
                                <div className="grid md:grid-cols-2 gap-4">
                                    <div className="space-y-4">
                                        <label className="flex items-center">
                                            <input 
                                                type="checkbox"
                                                checked={formData.additionalEnvironments}
                                                onChange={(e) => handleInputChange('additionalEnvironments', e.target.checked)}
                                                className="w-4 h-4 text-purple-600 rounded"
                                            />
                                            <span className="ml-2 text-gray-700">Additional Environments - ${pricing.additionalEnvironments.toLocaleString()}</span>
                                        </label>
                                        
                                        <label className="flex items-center">
                                            <input 
                                                type="checkbox"
                                                checked={formData.samlOidc}
                                                onChange={(e) => handleInputChange('samlOidc', e.target.checked)}
                                                className="w-4 h-4 text-purple-600 rounded"
                                            />
                                            <span className="ml-2 text-gray-700">SAML/OIDC - ${pricing.samlOidc.toLocaleString()}</span>
                                        </label>
                                        
                                        <label className="flex items-center">
                                            <input 
                                                type="checkbox"
                                                checked={formData.dataCenterRegions}
                                                onChange={(e) => handleInputChange('dataCenterRegions', e.target.checked)}
                                                className="w-4 h-4 text-purple-600 rounded"
                                            />
                                            <span className="ml-2 text-gray-700">Data Center Regions - ${pricing.dataCenterRegions.toLocaleString()}</span>
                                        </label>
                                    </div>
                                    
                                    <div className="space-y-4">
                                        <label className="flex items-center">
                                            <input 
                                                type="checkbox"
                                                checked={formData.usageAnalytics}
                                                onChange={(e) => handleInputChange('usageAnalytics', e.target.checked)}
                                                className="w-4 h-4 text-purple-600 rounded"
                                            />
                                            <span className="ml-2 text-gray-700">Usage Analytics - ${pricing.usageAnalytics.toLocaleString()}</span>
                                        </label>
                                        
                                        <label className="flex items-center">
                                            <input 
                                                type="checkbox"
                                                checked={formData.auditLog}
                                                onChange={(e) => handleInputChange('auditLog', e.target.checked)}
                                                className="w-4 h-4 text-purple-600 rounded"
                                            />
                                            <span className="ml-2 text-gray-700">Audit Log - ${pricing.auditLog.toLocaleString()}</span>
                                        </label>
                                        
                                        <label className="flex items-center">
                                            <input 
                                                type="checkbox"
                                                checked={formData.hipaaCompliance}
                                                onChange={(e) => handleInputChange('hipaaCompliance', e.target.checked)}
                                                className="w-4 h-4 text-purple-600 rounded"
                                            />
                                            <span className="ml-2 text-gray-700">HIPAA Compliance - ${pricing.hipaaCompliance.toLocaleString()}</span>
                                        </label>
                                    </div>
                                </div>
                            </div>

                            {/* Temporary total display */}
                            <div className="bg-gradient-to-br from-purple-600 to-pink-500 rounded-xl text-white p-6">
                                <h2 className="text-2xl font-bold mb-4">Current Total: ${calculateTotal().toLocaleString()}</h2>
                                <p className="text-sm opacity-90">More sections coming...</p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        const root = createRoot(document.getElementById('root'));
        root.render(<GoodDataCalculator />);
    </script>
</body>
</html>
